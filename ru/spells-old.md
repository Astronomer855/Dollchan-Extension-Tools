---
layout: default
language: ru
title: Руководство по спеллам (старый формат)
---

## Волшебные выражения


Скрипт обладает широкими возможностями по пользовательскому управлению загруженным на странице контентом, включая скрытие постов по различным условиям, и замену содержимого посредством регулярных выражений.
В связи с тем, что скрипт находится в состоянии перманентной разработки, набор управляющих слов может изменяться и дополнятся.


### Простая строка

Каждая операция вводится с новой строки в текстовое поле настроек. <b><i>Простая строка</i></b>, введенная в поле, позволяет скрыть посты, содержащие эту строку в тексте, либо в поле "тема". При этом, регистр и разметка в посте не имеют значения. Если строка встречается в оп-посте, скрывается весь тред (если у вас включена опция `"Фильтровать треды"`). Пример &ndash; скрыть посты `"Привет, %boardname%, есть одна тян"`, `"Ньюфаги не умеют трифорсить"`, `"Очередной ЕОТ-тред"`: 

`есть одна тян`<br />
`трифорс`<br />
`еот`

Вышеприведенная конфигурация будет действовать во всех досках и тредах, где работает скрипт.


### #доска/номер_треда

Если вы хотите применить фильтр к постам конкретного треда или доски, используйте оператор <b><i>#доска/номер_треда</i></b>. Примеры:

`#b/32768 свиной эякулянт`<br />
`#s/65536 соснули`<br />
`#vg/ yoba`<br />
`#b/ тян`


### #op

Оператор <b><i>#op</i></b> позволить указать область действия ваших выражений применительно к ОП-постам, тем самым получая возможность скрывать треды, не затрагивая обычные посты. Обратите внимание, что при использовании оператора `#доска/`, оператор `#op` нужно указывать вторым. Также учтите, что он, по понятным причинам, не действует на странице треда, и не совместим с операторами `#skip`, `#num`, `#rep` и `#outrep`. Примеры:

`#op triforce` &ndash; скрыть треды на любой доске со словом "triforce" в тексте/теме оп-поста<br />
`#op ^` &ndash; то же самое, для символа трифорса<br />
`#a/ #op Touhou` &ndash; скрыть треды на доске /a/ со словом Touhou в тексте/теме оп-поста<br />
`#b/ #op #exph /hurr|durr|derp/ig` &ndash; скрыть треды в /b/ со словами hurr, durr или derp в содержимом оп-поста<br />


### #skip

Для того, чтобы исключить посты из области действия любых фильтров, используйте оператор <b><i>#skip [список]</i></b>. В списке должны перечисляться через запятую порядковые номера постов в виде диапазонов `x1-x2`, либо отдельными номерами. Примеры:

`#b/16384 #skip 10` &ndash; занести в "белый список" 10 пост в треде 16384 доски b<br />
`#a/32768 #skip 20-70` &ndash; посты c 20 по 70 в треде a/32768<br />
`#b/65536 #skip 10-15, 20, 40-50, 60-70, 72, 80-100` &ndash; сложное перечисление<br />
`#b/131072 #skip 0-9000` &ndash; не применять никаких фильтров к треду b/131072, и его постам


### #num

Обратную задачу, безусловное прямое скрытие постов по порядковым номерам, выполняет оператор <b><i>#num [список]</i></b>. Примеры:

`#b/32768 #num 80-150` &ndash; скрыть посты c 80 по 150 в треде b/32768<br />
`#b/65536 #num 200-215, 240, 256, 300-400` &ndash; скрыть перечисленные посты в b/65536<br />


### #sage

Оператор <b><i>#sage</i></b> позволяет скрыть посты с сажей. Он также автоматически добавляется по клику на иконку сажи в заголовке поста. Обратите внимание, что в открытом треде при этом добавится `#доска/номер_треда #sage`, а при клике на странице доски &ndash; `#sage`. Примеры:

`#b/32768 #sage` &ndash; скрыть посты с сажей в треде b/32768<br />
`#sage` &ndash; cкрыть сажу по всей борде

В дальнейшем будет подразумеваться, что любой оператор может работать как глобально по всему имиджборду, так и в отдельных тредах совместно с оператором #доска/номер_треда.


### #notxt

Оператор <b><i>#notxt</i></b> позволяет скрыть посты, не содержащие текста. Этот оператор добавляется в список автоматически, если выбрать меню `"Скрыть схожий текст"` по кнопке скрытия поста/треда, при условии, что в посте нет текста (а содержится, например, лишь картинка). Синтаксис:

`#notxt`


### #noimg

Оператор <b><i>#noimg</i></b> скрывает посты, не содержащие прикрепленных изображений. Этот оператор добавляется в список автоматически, если выбрать меню `"Скрывать изображение"` или `"Скрыв. схожие изобр."` по кнопке скрытия поста/треда, при условии, что в посте нет прикрепленного изображения. Синтаксис:

`#noimg`


### #trip

Оператор <b><i>#trip</i></b> скрывает посты, содержащие трипкод:

`#trip`


### #tmax

Оператор <b><i>#tmax [N]</i></b> скрывает посты с текстом, который имеет длину, большую, чем `N` символов. Пример:

`#tmax 800` &ndash; cкрывать посты с текстом, большим, чем 800 символов


### #name

Для борьбы с неймфагами, используйте оператор <b><i>#name [имя][!трипкод][!!трипкод]</i></b>. Например, скрыть неймфага `Sage-kun!Canc3RL0L4!!H5Yfe4PW` можно такими способами:

`#name Sage-kun!Canc3RL0L4!!H5Yfe4PW`<br />
`#name Sage-kun!Canc3RL0L4`<br />
`#name Sage-kun`<br />
`#name !Canc3RL0L4`<br />
`#name !!H5Yfe4PW`<br />
`#name !Canc3RL0L4!!H5Yfe4PW`


### #exp

Оператор <b><i>#exp [выражение]</i></b> позволяет использовать регулярные выражения для поиска и скрытия по <u>текстовому содержимому</u> поста, без учета разметки. Подробнее с регулярными выражениями вы можете ознакомиться, например, <a href="http://ru.wikipedia.org/wiki/Regexp" style="text-decoration:none; color:rgb(120, 63, 4)" target="_blank">здесь</a> и <a href="http://javascript.ru/RegExp" style="text-decoration:none; color:rgb(120, 63, 4)" target="_blank">здесь</a>. Выражение должно иметь вид `/шаблон/`, либо `/шаблон/i`, где `i` &ndash; флаг нечувствительности к регистру. Прочие флаги для оператора `#exp` бесполезны, так как пост скрывается при первом найденном совпадении. Примеры:

`#exp /\u25b2\s\u25b2/` &ndash; скрыть трифорсы<br />
`#exp /(>>\d+\s*){8}/` &ndash; скрыть вайп >>ссылками<br />
`#exp /[оа]н[ие]м[еэу][^а-я]/i` &ndash; аниме, Аниму, ОНЕМЭ, и т.д.<br />
`#exp /кукл\[оа]([её]б|бляд|быдл)/i`<br />
`#exp /^[^A-ZА-Я\.]+$/g` &ndash; скрыть посты без заглавных букв и точек

Важно! Перед использованием #exp, подумайте о целесообразности его использования, если вместо этого можно воспользоваться более быстрым простым поиском. Например, вместо `#exp /ололо/i` и `#exp /!!!1/` гораздо более логичным было бы ввести строки `ололо` и `!!!1`, соответственно.


### #exph

Оператор <b><i>#exph [выражение]</i></b> дает возможность скрывать посты, применяя к их <u>html коду</u> регулярные выражения. Это позволяет делать анализ по разметке и структуре поста. Обратите внимание, что данный оператор выполняется медленнее, чем `#exp`, но охватывает все содержимое поста, тогда, как `#exp` проверяет только само текстовое сообщение. Примеры использования:

`#exph /(&lt; strong&gt; |&lt; b&gt; )[А-Я]+/` &ndash; скрыть посты с жирным капслоком<br />
`#exph /(&lt; br&gt; \s*){4}/i` &ndash; скрыть вайп пустыми строками (переносами строки)<br />
`#exph /mailto:sage/i` &ndash; аналог оператора #sage<br />
`#exph /&lt; span[^&gt; ]+postertrip/i` &ndash; аналог оператора #trip<br />
`#op #exph /(new|old)fags can.*t/i` &ndash; скрывать "Newfags can't triforce" треды<br />
`#op #exph /\/sticky\.png/i` &ndash; автоскрытие закреплённых тредов, например<br />
`#exph /src="\/images\/balls\/fi.png"/` &ndash; скрыть все посты из Финляндии на krautchan.net/int/


### #rep

Оператор автозамены <b><i>#rep [выражение] [замена]</i></b> позволяет изменять html код тредов посредством регулярных выражений по усмотрению пользователя. После внесения команды в список, изменения произойдут только при обновлении страницы. В регулярном выражении обязателен флаг `/g`, чтобы изменения происходили по всем найденным совпадениям. Примеры использования:

`#rep /Вася/g Петя` &ndash; примитивная замена слова<br />
`#rep /chrome|хром/ig псевдобраузер`<br />
`#rep /-red-(.*?)-red-/ig &lt; font color="red"&gt; $1&lt; /font&gt; ` &ndash; можно писать -red-красным-red-<br />
`#rep /(г[оа]вн|школ|ху[ийеёя]|пизд|пид.?р|п[еи]ту[хш]|сперм|параш|[^\s]бляд|бугурт|б.т+х.рт|сосн|с[ьъ]еб|еба[лнт]|тро[ль]+|ололо)[а-я]*/ig ко-ко-ко-ко` &ndash; "Милости прошу к нашему шалашу!"<br />
`#s/ #rep /([^a-zа-я])(?:(?:GNU|ЖМУ|ГНУ).?)?(?:linu(?:x|ks)|лин\[еуа](?:[кп]с|х)(?:а|е|о[мв]|у)?|debian|gentoo|arch|fedora|slackware|(?:open)?suse|red ?hat|RHEL|[a-z]?ubuntu|(?:[а-я]?убунт|(?:г|дж)ент|федор|слак)(?:а|у|ой|е)|(?:дебиан|арч)(?:[ое]м|ч?ик|е|а|у)?|сус(?:я|ю|ей))/ig $1ПитухОС` &ndash; автозамена для /s<br />
`#rep /&lt; span[^&gt; ]+color[^&gt; ]+&gt; сосницкий&lt; \/span&gt; /ig школьник` &ndash; исправление автозамены на 2ch.so<br />


### #outrep

Оператор автозамены <b><i>#outrep [выражение] [замена]</i></b> позволяет изменять текст сообщения при его отправке на сервер, и будет полезен, например, при обходе автозамены. Примеры использования:

`#outrep /быдло/ig б*ы*дло`<br />
`#b/ #outrep /школьник/ig школь[b][/b]ник`


### #img

Оператор <b><i>#img [><=][вес[-вес2]][@{ширина[-ширина2]}x{высота[-высота2]}]</i></b> позволяет скрывать посты по <u>числовой</u> информации о прикрепленных картинках, посредством сравнения параметров их веса, ширины и высоты. Отметьте, что в скрипте для указания веса картинки на любых имиджбордах, имеется унифицирована запись, с умножением <i>числа</i> Мб на 1000, делением <i>числа</i> байт на 1000, и с округлением до двух цифр после 0, при нецелых значениях. К примеру, если в посте указано текстом 100KB, то нужно ввести 100. Аналогично: `100.85KB = 100.85, 1.84MB = 1840, 150955B = 150.96, 760B = 0.76`. Если вам лень вводить параметры изображения и вычислять их вес, вы можете выбрать меню `"Скрывать изображение"` кнопки скрытия поста/треда, и этот оператор добавляется в список автоматически. Вам остается только отредактировать условия. Примеры использования с точными значениями, без указания диапазона:

`#img <35@640x480` &ndash; скрыть посты с картинками меньше 35Кб, и размером меньше 640x480<br />
`#img >@640x480` &ndash; скрыть все посты с картинками больше 640x480<br />
`#img <@300x100` &ndash; скрыть все посты с картинками меньше 300x100<br />
`#op #img =@900x700` &ndash; скрыть треды с картинками размером 900x700<br />
`#a/32768 #img =180.50` &ndash; скрыть все посты с картинками весом в 180.5Кб в треде a/32768/<br />
`#b/ #op #img >1500` &ndash; скрыть треды с картинками весом больше 1.5 Мб на доске /b/<br />
`#img <1` &ndash; скрыть все посты с картинками весом меньше 1 Кб

Примеры с указанием диапазона значений в качестве параметра. Обратите внимание, что литералы `>` и `<` чувствительны только к первому значению диапазона:

`#img =30-60@640x480` &ndash; скрыть посты с картинками весом от 30 до 60 Кб, с размером 640x480<br />
`#img =29.80-30.20` &ndash; скрыть посты с картинками весом от 29.8 до 30.2 Кб<br />
`#img =@300-500x500-700` &ndash; скрыть посты с картинками размером от 300x500 до 500x700<br />
`#img =75@700-900x200`<br />
`#img <200-300` &ndash; эквивалентно #img <200<br />
`#img >@800-1000x600` &ndash; эквивалентно #img >@800x600


### #imgn

Оператор <b><i>#imgn [выражение]</i></b> позволяет скрывать посты, применяя регулярные выражения непосредственно к <u>текстовой</u> информации прикрепленных картинок/файлов. Например, для досок с информацией вида `(1040 KB, 900x700, Trollface.gif)`, это может выглядеть так:

`#imgn /\.gif/i` &ndash; скрыть все посты с .gif-файлами<br />
`#imgn /trollface/i` &ndash; скрыть все посты, содержащие имя файла trollface<br />
`#imgn /Trollface\.gif/` &ndash; скрыть все посты, содержащие файл Trollface.gif<br />
`#imgn /1040 KB/` &ndash; аналог #img =1040, плюс &ndash; выполняется быстрее, минус &ndash; привязано к особенности текущего имиджборда. На другом имиджборде это может быть "1040Кб", либо "1.04 Mb", например<br />
`#imgn /900x700/` &ndash; аналог #img =@900x700, выполняется быстрее. Учтите, на некоторых имиджбордах вместо "x" может быть другой символ, например, "?".


### #video

Оператор <b><i>#video [выражение]</i></b> позволяет скрывать посты, применяя регулярные выражения к названиям загруженных youtube-видеороликов, при включенной опции `"Загружать названия к YouTube-ссылкам*"`:

`#video /rickroll/i` &ndash; скрыть посты с youtube-рикроллом<br />
`#video /\+100500/` &ndash; скрыть посты с видео от "+100500"<br />
`#video /vocaloid|miku|iosys|nya|neko|japan|touhou|anime/i` - скрыть по всем перечисленным совпадениям в названии


### #theme

Оператор <b><i>#theme [выражение]</i></b> позволяет скрывать содержимое, применяя регулярные выражения к Теме в постах:

`#op #theme /официальный/i` &ndash; скрыть "Официальные" треды<br />
`#theme /sage/i` &ndash; скрыть посты с sage в поле темы<br />
`#theme /./` &ndash; скрыть любой пост/тред, содержащий тему


### #ihash

Оператор <b><i>#ihash [хеш]</i></b> позволяет интеллектуально скрывать <i>схожие</i> изображения, сравнивая их [хеш-код](http://ru.wikipedia.org/wiki/%D0%A5%D0%B5%D1%88%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5), получаемый методом фильтрации и вычисления контрольной суммы. Для этого наведите курсор на кнопку скрытия поста с изображением, и выберите в меню `"Скрыв. схожие изобр."`. Сгенерированный хеш с оператором скрытия автоматически добавится в список выражений. Если пост не содержит изображений, в список добавится оператор `#noimg`, и скроются все посты без картинок. Пример полученных выражений:

`#ihash 603323568` &ndash; все посты с изображениями, соответствующими данному хеш-коду, будут скрыты.<br />
`#ihash 267050447`   
